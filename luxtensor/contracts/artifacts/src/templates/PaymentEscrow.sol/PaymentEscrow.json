{
  "_format": "hh-sol-artifact-1",
  "contractName": "PaymentEscrow",
  "sourceName": "src/templates/PaymentEscrow.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_mdtToken",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AlreadyRefunded",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "AlreadyReleased",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotDepositor",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotOracle",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotTimedOut",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "RequestExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "RequestNotFound",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "requestId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "depositor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timeout",
          "type": "uint256"
        }
      ],
      "name": "Deposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "oldOracle",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOracle",
          "type": "address"
        }
      ],
      "name": "OracleUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "requestId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "depositor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "Refunded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "requestId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "miner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "minerAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "protocolFee",
          "type": "uint256"
        }
      ],
      "name": "Released",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "accumulatedFees",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "aiOracle",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "requestId",
          "type": "bytes32"
        }
      ],
      "name": "canRefund",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "requestId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timeout",
          "type": "uint256"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "escrows",
      "outputs": [
        {
          "internalType": "address",
          "name": "depositor",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "depositedAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timeout",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "released",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "refunded",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "requestId",
          "type": "bytes32"
        }
      ],
      "name": "getEscrow",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "depositor",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "depositedAt",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "timeout",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "released",
              "type": "bool"
            },
            {
              "internalType": "bool",
              "name": "refunded",
              "type": "bool"
            }
          ],
          "internalType": "struct PaymentEscrow.EscrowEntry",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "mdtToken",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "minTimeout",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "protocolFeeBps",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "requestId",
          "type": "bytes32"
        }
      ],
      "name": "refund",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "requestId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "miner",
          "type": "address"
        }
      ],
      "name": "release",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_aiOracle",
          "type": "address"
        }
      ],
      "name": "setAIOracle",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_feeBps",
          "type": "uint256"
        }
      ],
      "name": "setProtocolFee",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        }
      ],
      "name": "withdrawFees",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60a0346100f157601f610cb838819003918201601f19168301916001600160401b038311848410176100f6578084926020946040528339810103126100f157516001600160a01b0390818116908190036100f15733156100d8576000543360018060a01b0319821617600055604051923391167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0600080a36001805560646004556032600555608052610bab908161010d823960805181818160f101528181610452015281816106da015281816108af01526109d50152f35b604051631e4fbdf760e01b815260006004820152602490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe6040608081526004908136101561001557600080fd5b600091823560e01c908163164e68de146109a65781631aa632b31461093c5781631bbdcfd3146107d6578163278f2ab81461061d5781632d83549c146105af57816331b221cd1461058657816335659fb8146105675781634cf71be414610549578163587f5ed71461052a578163715018a6146104cd5781637249fbb614610396578163787dce3d146103355781638c8c2003146102a75781638da5cb5b1461027f578163f023b811146101af578163f2fde38b14610124575063f70b5c06146100de57600080fd5b34610120578160031936011261012057517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5080fd5b9050346101ab5760203660031901126101ab5761013f6109fc565b90610148610a17565b6001600160a01b0391821692831561019557505082546001600160a01b0319811683178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b51631e4fbdf760e01b8152908101849052602490fd5b8280fd5b9050346101ab5760203660031901126101ab57818360c09460a083516101d481610a43565b828152826020820152828582015282606082015282608082015201528235815260036020522082519061020682610a43565b60018060a01b0381541693848352600182015493602084019485526002830154908285019182526003840154936060860194855201549460ff60a0608087019682891615158852019660081c161515865282519687525160208701525190850152516060840152511515608083015251151560a0820152f35b505034610120578160031936011261012057905490516001600160a01b039091168152602090f35b919050346101ab5760203660031901126101ab5781358352600360209081529281902080546001600160a01b031615159283610326575b83610314575b50826102f4575b50519015158152f35b61030a9192506003600282015491015490610b00565b43101590386102eb565b81015460081c60ff16159250386102e4565b8181015460ff161593506102de565b9050346101ab5760203660031901126101ab57803591610353610a17565b6101f4831161036457505060055580f35b906020606492519162461bcd60e51b8352820152600c60248201526b08ccaca40e8dede40d0d2ced60a31b6044820152fd5b919050346101ab5760203660031901126101ab578135906103b5610add565b818452600360205280842080546001600160a01b039081169490919085156104bf578082019081549060ff82166104b15760ff8260081c166104a3578733036104955761040b6002850154600386015490610b00565b4310610487575091602093916101007ff552ca82e113ac3c539c3d617f29fcd19c172a0c75dad017555c9e109f7fe183969461ff00191617905561047660018201978854907f0000000000000000000000000000000000000000000000000000000000000000610b23565b541694549051908152a36001805580f35b855163828630fb60e01b8152fd5b8551633cc50b4560e01b8152fd5b855163542f378d60e11b8152fd5b85516331da482760e11b8152fd5b8351632589d98f60e11b8152fd5b83346105275780600319360112610527576104e6610a17565b80546001600160a01b03198116825581906001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b80fd5b5050346101205781600319360112610120576020906006549051908152f35b9050346101ab57826003193601126101ab5760209250549051908152f35b5050346101205781600319360112610120576020906005549051908152f35b50503461012057816003193601126101205760025490516001600160a01b039091168152602090f35b919050346101ab5760203660031901126101ab578060ff9160c0948435815260036020522060018060a01b03815416936001820154926002830154916003840154930154938151968752602087015285015260608401528181161515608084015260081c16151560a0820152f35b83833461012057606036600319011261012057823560243591604435610641610add565b8084156107c6578386526003602052828620546001600160a01b03919082166107b65787548091106107ae575b5082516323b872dd60e01b60208201523360248201523060448201526064808201879052815260a0810167ffffffffffffffff81118282101761079b57886106fe869594938a937f2dcdaad87b561ba5a69835009b4c53ef9d3c41ca6cc9574049187659d6c6a71598527f0000000000000000000000000000000000000000000000000000000000000000610a75565b845161070981610a43565b33815260208101898152868201438152606083019187835260808401968688528960a08601978089528d81526003602052209451166bffffffffffffffffffffffff60a01b85541617845551600184015551600283015551600382015501915115159060ff61ff0084549251151560081b1692169061ffff191617179055815194855260208501523393a36001805580f35b634e487b7160e01b885260418952602488fd5b91508761066e565b835163756f5c2d60e11b81528890fd5b825163162908e360e11b81528790fd5b8383346101205780600319360112610120576024356001600160a01b03818116928535929091848203610938578060025416330361092857610816610add565b8386526003602052828620908154161561091857868101805460ff81166109085760ff8160081c166108f85790600180939260ff19161790550154906005548083029083820414831517156108e5576127109004908183039283116108e557906108d3837fbaa21fb6000fbb6d014fac9cd1b0726799e6f352a967157a59f4b2da8ef322119594936108aa84600654610b00565b6006557f0000000000000000000000000000000000000000000000000000000000000000610b23565b82519182526020820152a36001805580f35b634e487b7160e01b875260118852602487fd5b845163542f378d60e11b81528990fd5b84516331da482760e11b81528990fd5b8251632589d98f60e11b81528790fd5b8251631bc2178f60e01b81528790fd5b8580fd5b8334610527576020366003190112610527576109566109fc565b61095e610a17565b6002546001600160a01b0391821691829082167f078c3b417dadf69374a59793b829c52001247130433427049317bde56607b1b78580a36001600160a01b0319161760025580f35b8334610527576020366003190112610527576109f96109c36109fc565b6109cb610a17565b60065490836006557f0000000000000000000000000000000000000000000000000000000000000000610b23565b80f35b600435906001600160a01b0382168203610a1257565b600080fd5b6000546001600160a01b03163303610a2b57565b60405163118cdaa760e01b8152336004820152602490fd5b60c0810190811067ffffffffffffffff821117610a5f57604052565b634e487b7160e01b600052604160045260246000fd5b906000602091828151910182855af115610ad1576000513d610ac857506001600160a01b0381163b155b610aa65750565b604051635274afe760e01b81526001600160a01b039091166004820152602490fd5b60011415610a9f565b6040513d6000823e3d90fd5b600260015414610aee576002600155565b604051633ee5aeb560e01b8152600490fd5b91908201809211610b0d57565b634e487b7160e01b600052601160045260246000fd5b60405163a9059cbb60e01b60208201526001600160a01b039092166024830152604480830193909352918152608081019167ffffffffffffffff831182841017610a5f57610b7392604052610a75565b56fea2646970667358221220e248a71a9ad2cb5a3cafcb1d7f0cd5d47b1b616a89ab2fb3e6f53f15758f0e8f64736f6c63430008140033",
  "deployedBytecode": "0x6040608081526004908136101561001557600080fd5b600091823560e01c908163164e68de146109a65781631aa632b31461093c5781631bbdcfd3146107d6578163278f2ab81461061d5781632d83549c146105af57816331b221cd1461058657816335659fb8146105675781634cf71be414610549578163587f5ed71461052a578163715018a6146104cd5781637249fbb614610396578163787dce3d146103355781638c8c2003146102a75781638da5cb5b1461027f578163f023b811146101af578163f2fde38b14610124575063f70b5c06146100de57600080fd5b34610120578160031936011261012057517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5080fd5b9050346101ab5760203660031901126101ab5761013f6109fc565b90610148610a17565b6001600160a01b0391821692831561019557505082546001600160a01b0319811683178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b51631e4fbdf760e01b8152908101849052602490fd5b8280fd5b9050346101ab5760203660031901126101ab57818360c09460a083516101d481610a43565b828152826020820152828582015282606082015282608082015201528235815260036020522082519061020682610a43565b60018060a01b0381541693848352600182015493602084019485526002830154908285019182526003840154936060860194855201549460ff60a0608087019682891615158852019660081c161515865282519687525160208701525190850152516060840152511515608083015251151560a0820152f35b505034610120578160031936011261012057905490516001600160a01b039091168152602090f35b919050346101ab5760203660031901126101ab5781358352600360209081529281902080546001600160a01b031615159283610326575b83610314575b50826102f4575b50519015158152f35b61030a9192506003600282015491015490610b00565b43101590386102eb565b81015460081c60ff16159250386102e4565b8181015460ff161593506102de565b9050346101ab5760203660031901126101ab57803591610353610a17565b6101f4831161036457505060055580f35b906020606492519162461bcd60e51b8352820152600c60248201526b08ccaca40e8dede40d0d2ced60a31b6044820152fd5b919050346101ab5760203660031901126101ab578135906103b5610add565b818452600360205280842080546001600160a01b039081169490919085156104bf578082019081549060ff82166104b15760ff8260081c166104a3578733036104955761040b6002850154600386015490610b00565b4310610487575091602093916101007ff552ca82e113ac3c539c3d617f29fcd19c172a0c75dad017555c9e109f7fe183969461ff00191617905561047660018201978854907f0000000000000000000000000000000000000000000000000000000000000000610b23565b541694549051908152a36001805580f35b855163828630fb60e01b8152fd5b8551633cc50b4560e01b8152fd5b855163542f378d60e11b8152fd5b85516331da482760e11b8152fd5b8351632589d98f60e11b8152fd5b83346105275780600319360112610527576104e6610a17565b80546001600160a01b03198116825581906001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b80fd5b5050346101205781600319360112610120576020906006549051908152f35b9050346101ab57826003193601126101ab5760209250549051908152f35b5050346101205781600319360112610120576020906005549051908152f35b50503461012057816003193601126101205760025490516001600160a01b039091168152602090f35b919050346101ab5760203660031901126101ab578060ff9160c0948435815260036020522060018060a01b03815416936001820154926002830154916003840154930154938151968752602087015285015260608401528181161515608084015260081c16151560a0820152f35b83833461012057606036600319011261012057823560243591604435610641610add565b8084156107c6578386526003602052828620546001600160a01b03919082166107b65787548091106107ae575b5082516323b872dd60e01b60208201523360248201523060448201526064808201879052815260a0810167ffffffffffffffff81118282101761079b57886106fe869594938a937f2dcdaad87b561ba5a69835009b4c53ef9d3c41ca6cc9574049187659d6c6a71598527f0000000000000000000000000000000000000000000000000000000000000000610a75565b845161070981610a43565b33815260208101898152868201438152606083019187835260808401968688528960a08601978089528d81526003602052209451166bffffffffffffffffffffffff60a01b85541617845551600184015551600283015551600382015501915115159060ff61ff0084549251151560081b1692169061ffff191617179055815194855260208501523393a36001805580f35b634e487b7160e01b885260418952602488fd5b91508761066e565b835163756f5c2d60e11b81528890fd5b825163162908e360e11b81528790fd5b8383346101205780600319360112610120576024356001600160a01b03818116928535929091848203610938578060025416330361092857610816610add565b8386526003602052828620908154161561091857868101805460ff81166109085760ff8160081c166108f85790600180939260ff19161790550154906005548083029083820414831517156108e5576127109004908183039283116108e557906108d3837fbaa21fb6000fbb6d014fac9cd1b0726799e6f352a967157a59f4b2da8ef322119594936108aa84600654610b00565b6006557f0000000000000000000000000000000000000000000000000000000000000000610b23565b82519182526020820152a36001805580f35b634e487b7160e01b875260118852602487fd5b845163542f378d60e11b81528990fd5b84516331da482760e11b81528990fd5b8251632589d98f60e11b81528790fd5b8251631bc2178f60e01b81528790fd5b8580fd5b8334610527576020366003190112610527576109566109fc565b61095e610a17565b6002546001600160a01b0391821691829082167f078c3b417dadf69374a59793b829c52001247130433427049317bde56607b1b78580a36001600160a01b0319161760025580f35b8334610527576020366003190112610527576109f96109c36109fc565b6109cb610a17565b60065490836006557f0000000000000000000000000000000000000000000000000000000000000000610b23565b80f35b600435906001600160a01b0382168203610a1257565b600080fd5b6000546001600160a01b03163303610a2b57565b60405163118cdaa760e01b8152336004820152602490fd5b60c0810190811067ffffffffffffffff821117610a5f57604052565b634e487b7160e01b600052604160045260246000fd5b906000602091828151910182855af115610ad1576000513d610ac857506001600160a01b0381163b155b610aa65750565b604051635274afe760e01b81526001600160a01b039091166004820152602490fd5b60011415610a9f565b6040513d6000823e3d90fd5b600260015414610aee576002600155565b604051633ee5aeb560e01b8152600490fd5b91908201809211610b0d57565b634e487b7160e01b600052601160045260246000fd5b60405163a9059cbb60e01b60208201526001600160a01b039092166024830152604480830193909352918152608081019167ffffffffffffffff831182841017610a5f57610b7392604052610a75565b56fea2646970667358221220e248a71a9ad2cb5a3cafcb1d7f0cd5d47b1b616a89ab2fb3e6f53f15758f0e8f64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
